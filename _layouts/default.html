<!DOCTYPE html>
<html>

{% include head.html %}

<body>

 {% include socialmedia.html %}
 {% include superhero.html %}
 {% include nav.html %}

   {{ content }}

 {% include footer.html %}

  <!-- MAGICAL SPELLS -->
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script> 
  <script src="{{ site.baseurl }}/js/application.min.js"></script>
  
  <!-- LASTFM API JS -->
  <script>
    $(document).ready(function() {

     $.getJSON("http://ws.audioscrobbler.com/2.0/?method=user.getRecentTracks&user=thomaswicker&api_key=846eaf49b65ba6f02adc5b23be6fbd88&limit=2&format=json&callback=?", function(data) {

          var html = ''; // we declare the variable that we'll be using to store our information
          var counter = 1; // we declare a counter variable to use with the if statement in order to limit the result to 1
          $.each(data.recenttracks.track, function(i, item) {
            if(counter < 7 ) {
             html += '<li class="lastfm-song"><a href="' + item.url + '" target="_blank">' + item.name + '</a> <span>- ' + item.artist['#text'] + '</span>' + '</li>';
              } // close the if statement
              counter++ // add 1 to the counter variable each time the each loop runs
          }); // close each loop
          $('#lastfm').append(html); // print the information to the document - here I look for the h5 tag inside the div with a class of 'listening-to' and use the jQuery append method to insert the information we've stored in the html variable inside the h5 tag.
      }); // close JSON call

    }); // close document ready function
  </script>

  <!-- TWITTER API JS -->
  <script>
     !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
  </script>

  <!-- GOOGLE ANALYTICS -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
     })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

     ga('create', 'UA-49327942-1', 'thomaswicker.com');
     ga('send', 'pageview');
  </script>

  <script type="text/javascript">
     var loc = window.location.href;
     if(loc=== "{{ site.baseurl }}/") {
      $("#homeBTN").addClass("current");
   } else if (loc=== "{{ site.baseurl }}/about/") {
      $("#aboutBTN").addClass("current");
   } else if (loc=== "{{ site.baseurl }}/portfolio/") {
      $("#portfolioBTN").addClass("current");
   } else if (loc=== "{{ site.baseurl }}/photography/") {
      $("#photographyBTN").addClass("current");
   } else if (loc=== "{{ site.baseurl }}/resume/") {
      $("#resumeBTN").addClass("current");
   } else if (loc=== "{{ site.baseurl }}/contact/") {
      $("#contactBTN").addClass("current");
   } 
  </script>

</body>

</html>
